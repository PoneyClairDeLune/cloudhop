"use strict";import {serve} from "https://deno.land/std/http/server.ts";let envGet=function(a,b=""){return Deno.env.get(a)||b};(()=>{Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};var l={Server:"Cloud Hop","Content-Type":"text/html"},i=envGet("DEBUGGER","0")=="1",a=envGet("BACKENDS","internal").split(","),d=envGet("BACKHOST",""),u=envGet("MASK_IP","give"),h=envGet("MASK_UA","noBracket"),p=envGet("FORCE_IN_TLS","asIs"),f=envGet("FORCE_OUT_TLS","asIs"),m=envGet("ADAPT_BODY","0")=="1",A=envGet("MATCH_LANG","*").split(","),c=Math.max(parseInt(envGet("HEALTH_MAX_TRIES","3")),1),v=self.isPersPlat&&Math.max(parseFloat(envGet("HEALTH_ACTIVE","5")),15)*1e3,T=envGet("HEALTH_CRITERIA","asIs"),s=async function(e,t){if(a.length==1&&a[0]=="internal")return new Response("<!DOCTYPE html><head><title>Cloud Hop: It works!</title><style>*{font-family:sans-serif}a{text-decoration:none}</style></head><body>Cloud Hop is now deployed to this platform. Please refer to the documentation for further configuration.</body>",{status:503,headers:l});let n=new URL(e.url),r,o=[];return r||new Response("Empty respose.",{status:500})};serve(async function(e,t){let n=t.remoteAddr.hostname;return await s(e,n)});})();
//# sourceMappingURL=deno.js.map
